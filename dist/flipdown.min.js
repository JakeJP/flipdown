var FlipDown=function(){function t(o,e,n,i){if(void 0===e&&(e="flipdown"),this.version=t.version,this.initialised=!1,this.rotorGroups=[],this.opts={theme:"dark",headings:t.headings,headingsAt:"top",digits:"auto",direction:"down",stopAtEnd:!0,delimiter:!0,tick:null,ended:null},"number"!=typeof o&&!(o instanceof Date))throw new Error("FlipDown: Constructor expected unix timestamp, got ".concat(typeof o," instead."));"object"==typeof e&&(n=e,e="flipdown"),this.now=this._getTime(),this.epoch=o instanceof Date?o.getTime()/1e3:o,this.countdownEnded=!1,this.hasEndedCallback=null,this.element=document.getElementById(e),this._parseOptions(n),this.setTheme(this.opts.theme)}return t.prototype.start=function(){return this.initialised||this._init(),this.countdown=setInterval(this._tick.bind(this),1e3),this.element.classList.remove("flipdown-stopped"),this},t.prototype.stop=function(){return this.countdown&&(clearInterval(this.countdown),this.countdown=null,this.element.classList.add("flipdown-stopped")),this},t.prototype.setTheme=function(o){this.opts.theme!=o&&this.element.classList.remove("".concat(t.themeprefix).concat(this.opts.theme)),this.element.classList.add("".concat(t.themeprefix).concat(o)),this.opts.theme=o},t.prototype.getTheme=function(){return this.opts.theme},t.prototype.ifEnded=function(t){var o=this;return this.hasEndedCallback=function(){t(),o.hasEndedCallback=null},this},t.prototype._getTime=function(){return(new Date).getTime()/1e3},t.prototype._hasCountdownEnded=function(){return this.epoch-this.now<0?(this.countdownEnded=!0,null!=this.hasEndedCallback&&(this.hasEndedCallback(),this.hasEndedCallback=null),this.opts.ended&&"function"==typeof this.opts.ended&&this.opts.ended.call(this,this.now),this.element.classList.add("flipdown-ended"),!0):(this.countdownEnded=!1,!1)},t.prototype._parseOptions=function(t){for(var o in this.opts)t.hasOwnProperty(o)&&(this.opts[o]=t[o])},t.prototype._init=function(){var o=this;this.initialised=!0;var e=Math.floor((this.epoch-this.now)/86400);this.rotorGroups.push(new t.RotorGroup(e<100?2:e.toString().length,this.opts.headings?this.opts.headings[0]:null,!1,this.opts.headingsAt));for(var n=0;n<3;n++)this.rotorGroups.push(new t.RotorGroup(2,this.opts.headings?this.opts.headings[n+1]:null,this.opts.delimiter,this.opts.headingsAt));this._tick(),this._updateClockValues();var i="auto"==this.opts.digits;return this.rotorGroups.forEach((function(t){i&&(0==t.clockValue?t.element.style.display="none":i=!1),o.element.appendChild(t.element)})),this},t.prototype._tick=function(){this.now=this._getTime();var t,o=this.epoch-this.now<=0?this.opts.stopAtEnd?0:this.now-this.epoch:this.epoch-this.now,e=0;o-=86400*(t=this.rotorGroups[e++].clockValue=Math.floor(o/86400)),this.rotorGroups[e++].clockValue=t=Math.floor(o/3600),o-=3600*t,this.rotorGroups[e++].clockValue=t=Math.floor(o/60),o-=60*t,this.rotorGroups[e++].clockValue=t=Math.floor(o),this.opts.tick&&"function"==typeof this.opts.tick&&this.opts.tick.call(this,this.epoch-this.now,this.now),this._updateClockValues(),this._hasCountdownEnded()},t.prototype._updateClockValues=function(){this.rotorGroups.forEach((function(t){return t.updateClockValue()}))},t.version="0.3.4 j",t.headings=["Days","Hours","Minutes","Seconds"],t.themeprefix="flipdown__theme-",t}();!function(t){var o=function(){function t(){}return t.prototype.setText=function(t){this.rotorLeafFront.textContent=this.prevClockValue,this.rotorBottom.textContent=this.prevClockValue;var o=this;function e(){o.rotorTop.textContent!=t&&(o.rotorTop.textContent=t)}function n(){var e=o.rotorLeafRear;if(e.textContent!=t){e.textContent=t,e.parentElement.classList.add("flipped");var n=setInterval(function(){e.parentElement.classList.remove("flipped"),clearInterval(n)}.bind(this),500)}}this.prevClockValue?(setTimeout(e.bind(this),500),setTimeout(n.bind(this),500)):(e.call(this),n.call(this)),this.prevClockValue=t},t}();t.Rotor=o;var e=function(){function t(t,o,e,n){var i=this,r=document.createElement("div");if(r.className="rotor-group",o){var s=document.createElement("div");s.className="rotor-group-heading",s.setAttribute("data-before",o),"bottom"==n&&s.classList.add("bottom"),r.appendChild(s)}e&&r.classList.add("delimiter"),this.element=r,this.rotors=[];for(var a=0;a<t;a++){var h=this._createRotor();this.rotors.push(h)}this.rotors.forEach((function(t){return i.element.appendChild(t.element)}))}return t.prototype._createRotor=function(t){void 0===t&&(t=0);var e=new o;return(e.element=document.createElement("div")).className="rotor",e.rotorLeaf=document.createElement("div"),e.rotorLeafRear=document.createElement("figure"),e.rotorLeafFront=document.createElement("figure"),e.rotorTop=document.createElement("div"),e.rotorBottom=document.createElement("div"),e.rotorLeaf.className="rotor-leaf",e.rotorLeafRear.className="rotor-leaf-rear",e.rotorLeafFront.className="rotor-leaf-front",e.rotorTop.className="rotor-top",e.rotorBottom.className="rotor-bottom",e.rotorLeafRear.textContent=t.toString(),e.rotorTop.textContent=t.toString(),e.rotorBottom.textContent=t.toString(),[e.rotorLeaf,e.rotorTop,e.rotorBottom].forEach((function(t){return e.element.appendChild(t)})),[e.rotorLeafRear,e.rotorLeafFront].forEach((function(t){return e.rotorLeaf.appendChild(t)})),e},t.prototype.updateClockValue=function(){var t=this.pad(this.clockValue,2),o=0;this.rotors.forEach((function(e){e.setText(t[o++])}))},t.prototype.pad=function(t,o){return(t=t.toString()).length<o?this.pad("0"+t,o):t},t}();t.RotorGroup=e}(FlipDown||(FlipDown={}));